<h1>Relaciones</h1>

<table class='table table-hover'>
  <thead>
    <tr>
      <th>Asignatura</th>
      <th>Asignatura A Procedencia</th>
      <th>Asignatura B Procedencia</th>
      <th>Universidad de Procedencia</th>
      <th colspan="3">Acciones</th>
    </tr>
  </thead>

  <tbody>
    <% @relacions.each do |relacion| %>
      <tr>
        <td><%= Asignatura.find(relacion.asignatura_home_id).nombre %></td>
        <td><%= Asignatura.find(relacion.asignatura_a_procedencia_id).nombre %></td>
        <td><%= relacion.asignatura_b_procedencia_id.nil? ? '' : Asignatura.find_by_id(relacion.asignatura_b_procedencia_id).nombre %></td>
        <td><%= Universidad.find(Asignatura.find(relacion.asignatura_a_procedencia_id).universidad_id).nombre %></td>
        <td><%= link_to 'Ver', relacion %></td>
        <td><%= link_to 'Editar', edit_relacion_path(relacion) %></td>
        <td><%= link_to 'Eliminar', relacion, method: :delete, data: { confirm: '¿Estás seguro?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Nueva Relación', new_relacion_path %>
