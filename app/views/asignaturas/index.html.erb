<h1>Asignaturas</h1>

<br>

<%= search_form_for @search do |f| %>
  <div class="form-inline">
    <div class='field'>
      <%= f.label :nombre_cont, "Nombre contiene:" %>
      <%= f.text_field :nombre_cont, class: "form-control" %>
      <input class="btn btn-primary" type="submit" value="Buscar">
    </div>
  </div>
<% end %>

<br>

<table class='table table-hover'>
  <thead>
    <tr>
      <th><%= sort_link @search, :clave, "Clave" %></th>
      <th><%= sort_link @search, :nombre, "Nombre" %></th>
      <th>Creditos</th>
      <th><%= sort_link @search, :universidad_id, "Universidad" %></th>
      <th><%= sort_link @search, :pensum_id, "Pensum" %></th>
      <th colspan="3">Acciones</th>
    </tr>
  </thead>

  <tbody>
    <% @asignaturas.each do |asignatura| %>
      <tr>
        <td><%= asignatura.clave %></td>
        <td><%= asignatura.nombre %></td>
        <td><%= asignatura.creditos %></td>
        <td><%= asignatura.pensum.carrera.universidad.descripcion %> (<%= asignatura.pensum.carrera.universidad.nombre %>)</td>
        <td><%= asignatura.pensum.nombre %></td>
        <td><%= link_to 'Ver', asignatura %></td>
        <td><%= link_to 'Editar', edit_asignatura_path(asignatura) %></td>
        <td><%= link_to 'Eliminar', asignatura, method: :delete, data: { confirm: 'EstÃ¡s seguro?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Nueva Asignatura', new_asignatura_path %>
